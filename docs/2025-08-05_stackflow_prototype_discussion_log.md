### 2025年8月5日 会話ログ：プロジェクト「スタックフロー（仮）」仕様検討

**参加者:** hazu, 寧々

**議題:** 以前作成した仕様書ドラフトを元に、技術的な方針の決定と、プロジェクトの具体化を行う。

---

#### **1. 技術方針の決定**

会話を通じて、以下の重要な技術方針を固めた。

*   **レンダリング方式:**
    *   `Fabric.js` (Canvasベース) と `素のHTML/CSS/JS` (DOMベース) の比較検討を行った結果、Web標準との親和性、アクセシビリティ、CSSによるスタイリングの容易さを重視し、**DOMベースでの実装**を正式に決定した。
    *   オブジェクトのドラッグ、リサイズ等のインタラクションは `interact.js` ライブラリを利用して実現する。

*   **データモデルとデプロイ戦略:**
    *   サーバーサイドの処理を必要としない**「クライアントサイド完結モデル」**を採用することを決定。
    *   ユーザーが作成したスタック（カード、オブジェクト、画像、スクリプト等）は、開発者のサーバーには一切保存しない。
    *   代わりに、全てのデータを単一の `.html` ファイルにパッケージ化し、ユーザーが自身のPCに直接ダウンロード（エクスポート）する方式とする。
    *   これにより、開発・運用コストを大幅に削減し、ユーザーのプライバシーを完全に保護する。
    *   ツール自体の配布は、NetlifyやVercel、GitHub Pagesなどの静的ホスティングサービスで行う。

*   **メディアファイルの扱い:**
    *   ユーザビリティと出力ファイルの肥大化を防ぐため、ユーザーがアップロードする画像や動画には**ファイルサイズの上限**（例: 画像 5MB, 動画 50MB）と、**動画の再生時間の上限**（例: 60秒）を設けることを決定した。

#### **2. 仕様書への反映**

上記で決定した方針を、仕様書ファイル `2025-08-04_1100_CardWeaver_Specification_Draft.md` に追記・修正した。

#### **3. 機能スコープの明確化**

*   **ペイント/ドロー機能:**
    *   当初要望があったが、実装の複雑さを考慮し、初期のコア機能からは除外。将来的な**プラグインまたはアドオン機能**として実装する方針とした。

*   **ミニマムなプロトタイプの定義:**
    *   以下の3点をコア機能として再確認した。
        1.  右クリックメニューからのオブジェクト（ボタン、テキスト等）の配置・挿入。
        2.  オブジェクトを選択した際のプロパティ編集機能。
        3.  `Magic` というキーワード入力による、カスタムJavaScript実行機能のアンロック。

#### **4. 将来の拡張アイデア**

*   **AI向けコーディング・マニフェスト:**
    *   ユーザーが外部のAIサービス（Gemini等）に対して、的確なスクリプト生成を依頼できるよう、ツールのAPI仕様やプロンプトの書き方をまとめた**マニュアル/ドキュメント**を作成するアイデアが出た。これは「マニュアル」セクションに含める。

*   **スタックサイズの可変性:**
    *   プロトタイプではサイズを固定するが、将来的にはスマートフォン画面（縦・横）や正方形など、様々な**プリセットからスタックサイズを選べる**ようにするアイデアが出た。

#### **5. プロジェクト名の決定**

*   いくつかの候補（HexaCard, StackFlow, カード綴り等）の中から、**「スタックフロー」**という名称が気に入られた。
*   最終的に、遊び心と未完成の魅力を込めて、正式名称を**「スタックフロー（仮）」**とすることに決定した。

---

**決定事項:**
*   ユーザーはまず、作業環境の準備（自室の掃除、時間の確保）を行う。
*   準備が整い次第、今回固めた仕様に沿って、プロトタイプの開発に着手する。
