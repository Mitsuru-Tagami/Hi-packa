import{a as R,g as k,r as C,e as E,n as rt,j as o,s as M,f as T,c as u,b as W,B as lt,h as $,i as P,C as it,u as z,P as ct,T as w,o as N,p as dt,k as U,t as g,M as V,l as H}from"./index-B-EOlhIm.js";import{c as S,a as pt,b as gt,F as ut,I as vt,S as ft,T as xt}from"./TextField-BP7Xt8ij.js";function mt(t){return k("MuiAlert",t)}const D=R("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function yt(t){return k("MuiIconButton",t)}const Z=R("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),bt=t=>{const{classes:e,disabled:s,color:n,edge:a,size:r,loading:d}=t,c={root:["root",d&&"loading",s&&"disabled",n!=="default"&&`color${u(n)}`,a&&`edge${u(a)}`,`size${u(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return W(c,yt,e)},Ct=M(lt,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.loading&&e.loading,s.color!=="default"&&e[`color${u(s.color)}`],s.edge&&e[`edge${u(s.edge)}`],e[`size${u(s.size)}`]]}})($(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),$(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(P()).map(([e])=>({props:{color:e},style:{color:(t.vars||t).palette[e].main}})),...Object.entries(t.palette).filter(P()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Z.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Z.loading}`]:{color:"transparent"}}))),It=M("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),K=C.forwardRef(function(e,s){const n=E({props:e,name:"MuiIconButton"}),{edge:a=!1,children:r,className:d,color:c="default",disabled:x=!1,disableFocusRipple:v=!1,size:y="medium",id:m,loading:l=null,loadingIndicator:f,...b}=n,p=rt(m),j=f??o.jsx(it,{"aria-labelledby":p,color:"inherit",size:16}),I={...n,edge:a,color:c,disabled:x,disableFocusRipple:v,loading:l,loadingIndicator:j,size:y},i=bt(I);return o.jsxs(Ct,{id:l?p:m,className:T(i.root,d),centerRipple:!0,focusRipple:!v,disabled:x||l,ref:s,...b,ownerState:I,children:[typeof l=="boolean"&&o.jsx("span",{className:i.loadingWrapper,style:{display:"contents"},children:o.jsx(It,{className:i.loadingIndicator,ownerState:I,children:l&&j})}),r]})}),ht=S(o.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),Mt=S(o.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),St=S(o.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),jt=S(o.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),At=S(o.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),zt=t=>{const{variant:e,color:s,severity:n,classes:a}=t,r={root:["root",`color${u(s||n)}`,`${e}${u(s||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return W(r,mt,a)},Pt=M(ct,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],e[`${s.variant}${u(s.color||s.severity)}`]]}})($(({theme:t})=>{const e=t.palette.mode==="light"?t.darken:t.lighten,s=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(P(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${n}StandardBg`]:s(t.palette[n].light,.9),[`& .${D.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(P(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${n}Color`]:e(t.palette[n].light,.6),border:`1px solid ${(t.vars||t).palette[n].light}`,[`& .${D.icon}`]:t.vars?{color:t.vars.palette.Alert[`${n}IconColor`]}:{color:t.palette[n].main}}})),...Object.entries(t.palette).filter(P(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}))]}})),Bt=M("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Lt=M("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),$t=M("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),_={success:o.jsx(ht,{fontSize:"inherit"}),warning:o.jsx(Mt,{fontSize:"inherit"}),error:o.jsx(St,{fontSize:"inherit"}),info:o.jsx(jt,{fontSize:"inherit"})},wt=C.forwardRef(function(e,s){const n=E({props:e,name:"MuiAlert"}),{action:a,children:r,className:d,closeText:c="Close",color:x,components:v={},componentsProps:y={},icon:m,iconMapping:l=_,onClose:f,role:b="alert",severity:p="success",slotProps:j={},slots:I={},variant:i="standard",...B}=n,h={...n,color:x,severity:p,variant:i,colorSeverity:x||p},L=zt(h),A={slots:{closeButton:v.CloseButton,closeIcon:v.CloseIcon,...I},slotProps:{...y,...j}},[q,Q]=z("root",{ref:s,shouldForwardComponentProp:!0,className:T(L.root,d),elementType:Pt,externalForwardedProps:{...A,...B},ownerState:h,additionalProps:{role:b,elevation:0}}),[X,Y]=z("icon",{className:L.icon,elementType:Bt,externalForwardedProps:A,ownerState:h}),[tt,ot]=z("message",{className:L.message,elementType:Lt,externalForwardedProps:A,ownerState:h}),[F,O]=z("action",{className:L.action,elementType:$t,externalForwardedProps:A,ownerState:h}),[et,nt]=z("closeButton",{elementType:K,externalForwardedProps:A,ownerState:h}),[st,at]=z("closeIcon",{elementType:At,externalForwardedProps:A,ownerState:h});return o.jsxs(q,{...Q,children:[m!==!1?o.jsx(X,{...Y,children:m||l[p]||_[p]}):null,o.jsx(tt,{...ot,children:r}),a!=null?o.jsx(F,{...O,children:a}):null,a==null&&f?o.jsx(F,{...O,children:o.jsx(et,{size:"small","aria-label":c,title:c,color:"inherit",onClick:f,...nt,children:o.jsx(st,{fontSize:"small",...at})})}):null]})});function Rt(t){return k("MuiInputAdornment",t)}const G=R("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var J;const kt=(t,e)=>{const{ownerState:s}=t;return[e.root,e[`position${u(s.position)}`],s.disablePointerEvents===!0&&e.disablePointerEvents,e[s.variant]]},Et=t=>{const{classes:e,disablePointerEvents:s,hiddenLabel:n,position:a,size:r,variant:d}=t,c={root:["root",s&&"disablePointerEvents",a&&`position${u(a)}`,d,n&&"hiddenLabel",r&&`size${u(r)}`]};return W(c,Rt,e)},Tt=M("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:kt})($(({theme:t})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${G.positionStart}&:not(.${G.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Wt=C.forwardRef(function(e,s){const n=E({props:e,name:"MuiInputAdornment"}),{children:a,className:r,component:d="div",disablePointerEvents:c=!1,disableTypography:x=!1,position:v,variant:y,...m}=n,l=pt()||{};let f=y;y&&l.variant,l&&!f&&(f=l.variant);const b={...n,hiddenLabel:l.hiddenLabel,size:l.size,disablePointerEvents:c,position:v,variant:f},p=Et(b);return o.jsx(gt.Provider,{value:null,children:o.jsx(Tt,{as:d,ownerState:b,className:T(p.root,r),ref:s,...m,children:typeof a=="string"&&!x?o.jsx(w,{color:"textSecondary",children:a}):o.jsxs(C.Fragment,{children:[v==="start"?J||(J=o.jsx("span",{className:"notranslate","aria-hidden":!0,children:"â€‹"})):null,a]})})})}),Ft=S(o.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Ot=S(o.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),Nt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},Ut=({isOpen:t,onClose:e,onSetMagicEnabled:s,isMagicEnabled:n=!1})=>{console.log("Current magic state:",n);const[a,r]=C.useState(""),[d,c]=C.useState(""),[x,v]=C.useState(!1),[y,m]=C.useState(N.language),l="magic",f=()=>{a===l?(s(!0),alert(g("settingsModal.unlockedAlert")),setTimeout(()=>{e()},100)):c(g("settingsModal.incorrectMagicWord"))},b=i=>{const B=i.target.value;N.changeLanguage(B),m(B)},p=()=>{c(""),r(""),v(!1),e()},j=()=>{v(i=>!i)},I=i=>{i.preventDefault()};return o.jsx(dt,{open:t,onClose:p,"aria-labelledby":"settings-modal-title","aria-describedby":"settings-modal-description",children:o.jsxs(U,{sx:Nt,children:[o.jsx(w,{id:"settings-modal-title",variant:"h6",component:"h2",gutterBottom:!0,children:g("settingsModal.title")}),o.jsxs(ut,{fullWidth:!0,margin:"normal",children:[o.jsx(vt,{id:"language-select-label",children:g("settingsModal.language")}),o.jsxs(ft,{labelId:"language-select-label",value:y,label:g("settingsModal.language"),onChange:b,children:[o.jsx(V,{value:"ja",children:g("settingsModal.languageJa")}),o.jsx(V,{value:"en",children:g("settingsModal.languageEn")})]})]}),o.jsx(w,{id:"settings-modal-description",sx:{mt:2},children:g("settingsModal.magicWordPrompt")}),o.jsx(xt,{label:g("settingsModal.magicWordLabel"),type:x?"text":"password",fullWidth:!0,margin:"normal",value:a,onChange:i=>{r(i.target.value),c("")},onKeyPress:i=>{i.key==="Enter"&&f()},InputProps:{endAdornment:o.jsx(Wt,{position:"end",children:o.jsx(K,{"aria-label":g("settingsModal.togglePasswordVisibility"),onClick:j,onMouseDown:I,edge:"end",children:x?o.jsx(Ot,{}):o.jsx(Ft,{})})})}}),d&&o.jsx(wt,{severity:"error",sx:{mt:1},children:d}),o.jsxs(U,{sx:{mt:2,display:"flex",justifyContent:"flex-end",gap:1},children:[o.jsx(H,{variant:"outlined",onClick:p,children:g("settingsModal.cancelButton")}),o.jsx(H,{variant:"contained",onClick:f,children:g("settingsModal.unlockButton")})]})]})})},Dt=Ut;export{Dt as SettingsModalComponent};
