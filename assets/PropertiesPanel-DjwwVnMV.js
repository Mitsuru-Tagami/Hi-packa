import{g as ue,a as he,r as i,u as ne,s as te,j as t,c as X,b as me,B as we,d as Pe,e as Ce,m as ze,f as pe,h as ge,i as be,T as fe,k as D,t as l,M as p,l as ve}from"./index-nWKwKUPF.js";import{u as Be,a as Se,c as xe,f as Fe,F as b,T as f,I as Z,S as G}from"./TextField-SLeafw7T.js";function Ie(e){return ue("PrivateSwitchBase",e)}he("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Le=e=>{const{classes:a,checked:c,disabled:r,edge:h}=e,m={root:["root",c&&"checked",r&&"disabled",h&&`edge${X(h)}`],input:["input"]};return me(m,Ie,a)},Te=te(we,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:a})=>e==="start"&&a.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:a})=>e==="end"&&a.size!=="small",style:{marginRight:-12}}]}),We=te("input",{name:"MuiSwitchBase",shouldForwardProp:Pe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Re=i.forwardRef(function(a,c){const{autoFocus:r,checked:h,checkedIcon:m,defaultChecked:v,disabled:P,disableFocusRipple:F=!1,edge:$=!1,icon:w,id:I,inputProps:L,inputRef:A,name:T,onBlur:W,onChange:j,onFocus:R,readOnly:z,required:E=!1,tabIndex:g,type:k,value:C,slots:H={},slotProps:V={},...N}=a,[y,K]=Be({controlled:h,default:!!v,name:"SwitchBase",state:"checked"}),x=Se(),U=n=>{R&&R(n),x&&x.onFocus&&x.onFocus(n)},S=n=>{W&&W(n),x&&x.onBlur&&x.onBlur(n)},q=n=>{if(n.nativeEvent.defaultPrevented)return;const u=n.target.checked;K(u),j&&j(n,u)};let M=P;x&&typeof M>"u"&&(M=x.disabled);const ie=k==="checkbox"||k==="radio",Y={...a,checked:y,disabled:M,disableFocusRipple:F,edge:$},oe=Le(Y),J={slots:H,slotProps:{input:L,...V}},[le,Q]=ne("root",{ref:c,elementType:Te,className:oe.root,shouldForwardComponentProp:!0,externalForwardedProps:{...J,component:"span",...N},getSlotProps:n=>({...n,onFocus:u=>{var B;(B=n.onFocus)==null||B.call(n,u),U(u)},onBlur:u=>{var B;(B=n.onBlur)==null||B.call(n,u),S(u)}}),ownerState:Y,additionalProps:{centerRipple:!0,focusRipple:!F,disabled:M,role:void 0,tabIndex:null}}),[O,_]=ne("input",{ref:A,elementType:We,className:oe.input,externalForwardedProps:J,getSlotProps:n=>({...n,onChange:u=>{var B;(B=n.onChange)==null||B.call(n,u),q(u)}}),ownerState:Y,additionalProps:{autoFocus:r,checked:h,defaultChecked:v,disabled:M,id:ie?I:void 0,name:T,readOnly:z,required:E,tabIndex:g,type:k,...k==="checkbox"&&C===void 0?{}:{value:C}}});return t.jsxs(le,{...Q,children:[t.jsx(O,{..._}),y?m:w]})}),Ne=xe(t.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Me=xe(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),$e=xe(t.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Ae(e){return ue("MuiCheckbox",e)}const ce=he("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ee=e=>{const{classes:a,indeterminate:c,color:r,size:h}=e,m={root:["root",c&&"indeterminate",`color${X(r)}`,`size${X(h)}`]},v=me(m,Ae,a);return{...a,...v}},He=te(Re,{shouldForwardProp:e=>Pe(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:c}=e;return[a.root,c.indeterminate&&a.indeterminate,a[`size${X(c.size)}`],c.color!=="default"&&a[`color${X(c.color)}`]]}})(ge(({theme:e})=>({color:(e.vars||e).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.action.active,(e.vars||e).palette.action.hoverOpacity)}}},...Object.entries(e.palette).filter(be()).map(([a])=>({props:{color:a,disableRipple:!1},style:{"&:hover":{backgroundColor:e.alpha((e.vars||e).palette[a].main,(e.vars||e).palette.action.hoverOpacity)}}})),...Object.entries(e.palette).filter(be()).map(([a])=>({props:{color:a},style:{[`&.${ce.checked}, &.${ce.indeterminate}`]:{color:(e.vars||e).palette[a].main},[`&.${ce.disabled}`]:{color:(e.vars||e).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Ue=t.jsx(Me,{}),qe=t.jsx(Ne,{}),De=t.jsx($e,{}),Ve=i.forwardRef(function(a,c){const r=Ce({props:a,name:"MuiCheckbox"}),{checkedIcon:h=Ue,color:m="primary",icon:v=qe,indeterminate:P=!1,indeterminateIcon:F=De,inputProps:$,size:w="medium",disableRipple:I=!1,className:L,slots:A={},slotProps:T={},...W}=r,j=P?F:v,R=P?F:h,z={...r,disableRipple:I,color:m,indeterminate:P,size:w},E=Ee(z),g=T.input??$,[k,C]=ne("root",{ref:c,elementType:He,className:pe(E.root,L),shouldForwardComponentProp:!0,externalForwardedProps:{slots:A,slotProps:T,...W},ownerState:z,additionalProps:{type:"checkbox",icon:i.cloneElement(j,{fontSize:j.props.fontSize??w}),checkedIcon:i.cloneElement(R,{fontSize:R.props.fontSize??w}),disableRipple:I,slots:A,slotProps:{input:ze(typeof g=="function"?g(z):g,{"data-indeterminate":P})}}});return t.jsx(k,{...C,classes:E})});function Ye(e){return ue("MuiFormControlLabel",e)}const ee=he("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Xe=e=>{const{classes:a,disabled:c,labelPlacement:r,error:h,required:m}=e,v={root:["root",c&&"disabled",`labelPlacement${X(r)}`,h&&"error",m&&"required"],label:["label",c&&"disabled"],asterisk:["asterisk",h&&"error"]};return me(v,Ye,a)},Je=te("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:c}=e;return[{[`& .${ee.label}`]:a.label},a.root,a[`labelPlacement${X(c.labelPlacement)}`]]}})(ge(({theme:e})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ee.disabled}`]:{cursor:"default"},[`& .${ee.label}`]:{[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:a})=>a==="start"||a==="top"||a==="bottom",style:{marginLeft:16}}]}))),_e=te("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(ge(({theme:e})=>({[`&.${ee.error}`]:{color:(e.vars||e).palette.error.main}}))),Ze=i.forwardRef(function(a,c){const r=Ce({props:a,name:"MuiFormControlLabel"}),{checked:h,className:m,componentsProps:v={},control:P,disabled:F,disableTypography:$,inputRef:w,label:I,labelPlacement:L="end",name:A,onChange:T,required:W,slots:j={},slotProps:R={},value:z,...E}=r,g=Se(),k=F??P.props.disabled??(g==null?void 0:g.disabled),C=W??P.props.required,H={disabled:k,required:C};["checked","name","onChange","value","inputRef"].forEach(q=>{typeof P.props[q]>"u"&&typeof r[q]<"u"&&(H[q]=r[q])});const V=Fe({props:r,muiFormControl:g,states:["error"]}),N={...r,disabled:k,labelPlacement:L,required:C,error:V.error},y=Xe(N),K={slots:j,slotProps:{...v,...R}},[x,U]=ne("typography",{elementType:fe,externalForwardedProps:K,ownerState:N});let S=I;return S!=null&&S.type!==fe&&!$&&(S=t.jsx(x,{component:"span",...U,className:pe(y.label,U==null?void 0:U.className),children:S})),t.jsxs(Je,{className:pe(y.root,m),ownerState:N,ref:c,...E,children:[i.cloneElement(P,H),C?t.jsxs("div",{children:[S,t.jsxs(_e,{ownerState:N,"aria-hidden":!0,className:y.asterisk,children:["â€‰","*"]})]}):S]})}),se=e=>{const a=parseFloat(e);return isNaN(a)?0:a},de=[{label:"sizeIPhone8Plus",width:414,height:736},{label:"sizeIPhone8PlusLandscape",width:736,height:414},{label:"sizeIPhone12",width:390,height:844},{label:"sizeIPhone12Landscape",width:844,height:390},{label:"sizeIPad",width:768,height:1024},{label:"sizeDesktop",width:1280,height:720},{label:"sizeCustom",width:0,height:0}],Qe=({selectedObject:e,onUpdateObject:a,isMagicEnabled:c,currentCard:r,onDeleteCard:h,onUpdateCardDimensions:m,stack:v,onUpdateCardName:P,onDeleteObject:F})=>{const[$,w]=i.useState(""),[I,L]=i.useState(""),[A,T]=i.useState(""),[W,j]=i.useState(""),[R,z]=i.useState(""),[E,g]=i.useState("left"),[k,C]=i.useState(""),[H,V]=i.useState(""),[N,y]=i.useState(!1),[K,x]=i.useState("none"),[U,S]=i.useState(""),[q,M]=i.useState(""),[ie,Y]=i.useState("contain"),[oe,J]=i.useState(""),[le,Q]=i.useState(""),[O,_]=i.useState(""),[n,u]=i.useState(""),[B,ae]=i.useState("sizeCustom");i.useEffect(()=>{e?(w(e.x.toString()),L(e.y.toString()),T(e.width.toString()),j(e.height.toString()),z(e.text||""),g(e.textAlign||"left"),C(e.color||""),y(e.backgroundColor==="transparent"),V(e.backgroundColor==="transparent"?"#ffffff":e.backgroundColor||""),x(e.borderWidth||"none"),S(e.borderColor||""),M(e.src||""),Y(e.objectFit||"contain"),J(e.script||"")):(w(""),L(""),T(""),j(""),z(""),g("left"),C(""),y(!1),V(""),x("none"),S(""),M(""),Y("contain"),J(""))},[e]),i.useEffect(()=>{if(r){Q(r.name),_(r.width.toString()),u(r.height.toString());const o=de.find(s=>s.width===r.width&&s.height===r.height);ae(o?o.label:"sizeCustom")}else Q(""),_(""),u(""),ae("sizeCustom")},[r]);const d=(o,s)=>{e&&a({...e,[o]:s})},re=(o,s)=>{o(s.target.value)},je=o=>{y(o.target.checked),o.target.checked?d("backgroundColor","transparent"):d("backgroundColor",H==="transparent"?"#ffffff":H)},ke=o=>{V(o.target.value),y(!1),d("backgroundColor",o.target.value)};return t.jsxs(D,{sx:{p:2,height:"100%",overflowY:"auto"},children:[r&&t.jsxs(D,{sx:{mb:3,p:1.5,border:"1px solid #ddd",borderRadius:1},children:[t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.cardName"),variant:"outlined",size:"small",value:le,onChange:o=>Q(o.target.value),onBlur:()=>{r&&P(r.id,le)}})}),t.jsxs(b,{fullWidth:!0,sx:{mb:2},size:"small",children:[t.jsx(Z,{children:l("propertiesPanel.sizePreset")}),t.jsx(G,{label:l("propertiesPanel.sizePreset"),value:B,onChange:o=>{const s=de.find(ye=>ye.label===o.target.value);s&&s.width>0?window.confirm(l("deleteCardWarning"))&&(_(s.width.toString()),u(s.height.toString()),m(r.id,s.width,s.height),ae(o.target.value)):ae(o.target.value)},children:de.map(o=>t.jsx(p,{value:o.label,children:l(`propertiesPanel.${o.label}`)},o.label))})]}),t.jsxs(D,{sx:{display:"flex",gap:2,mb:2},children:[t.jsx(f,{label:l("propertiesPanel.width"),type:"number",variant:"outlined",size:"small",fullWidth:!0,value:O,onChange:o=>_(o.target.value),onBlur:()=>{const o=parseInt(O),s=parseInt(n);r&&!isNaN(o)&&!isNaN(s)&&m(r.id,o,s)}}),t.jsx(f,{label:l("propertiesPanel.height"),type:"number",variant:"outlined",size:"small",fullWidth:!0,value:n,onChange:o=>u(o.target.value),onBlur:()=>{const o=parseInt(O),s=parseInt(n);r&&!isNaN(o)&&!isNaN(s)&&m(r.id,o,s)}})]}),t.jsx(ve,{variant:"contained",color:"error",fullWidth:!0,onClick:()=>{window.confirm(l("deleteCardWarning"))&&h(r.id)},disabled:v.cards.length<=1,sx:{mt:1},children:l("propertiesPanel.deleteCard")})]}),e?t.jsxs(D,{sx:{p:1.5,border:"1px solid #ddd",borderRadius:1},children:[t.jsx("h4",{children:{text:l("text"),image:l("imageName"),button:l("defaultButtonText")}[e.type]||e.type}),t.jsxs(D,{sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,mb:2},children:[t.jsx(f,{label:l("propertiesPanel.positionX"),type:"number",variant:"outlined",size:"small",value:$,onChange:o=>re(w,o),onBlur:()=>d("x",se($))}),t.jsx(f,{label:l("propertiesPanel.positionY"),type:"number",variant:"outlined",size:"small",value:I,onChange:o=>re(L,o),onBlur:()=>d("y",se(I))}),t.jsx(f,{label:l("propertiesPanel.width"),type:"number",variant:"outlined",size:"small",value:A,onChange:o=>re(T,o),onBlur:()=>d("width",se(A))}),t.jsx(f,{label:l("propertiesPanel.height"),type:"number",variant:"outlined",size:"small",value:W,onChange:o=>re(j,o),onBlur:()=>d("height",se(W))})]}),t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.textLabel"),variant:"outlined",multiline:!0,rows:3,value:R,onChange:o=>{z(o.target.value),d("text",o.target.value)}})}),t.jsxs(b,{fullWidth:!0,sx:{mb:2},size:"small",children:[t.jsx(Z,{children:l("propertiesPanel.textAlign")}),t.jsxs(G,{label:l("propertiesPanel.textAlign"),value:E,onChange:o=>{const s=o.target.value;g(s),d("textAlign",s)},children:[t.jsx(p,{value:"left",children:l("propertiesPanel.alignLeft")}),t.jsx(p,{value:"center",children:l("propertiesPanel.alignCenter")}),t.jsx(p,{value:"right",children:l("propertiesPanel.alignRight")})]})]}),t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.textColor"),variant:"outlined",type:"color",size:"small",value:k||"#000000",onChange:o=>{C(o.target.value),d("color",o.target.value)},fullWidth:!0})}),t.jsxs(b,{fullWidth:!0,sx:{mb:2},children:[t.jsx(Ze,{control:t.jsx(Ve,{checked:N,onChange:je}),label:l("propertiesPanel.transparentBackground")}),!N&&t.jsx(f,{label:l("propertiesPanel.backgroundColor"),variant:"outlined",type:"color",size:"small",value:H||"#ffffff",onChange:ke,fullWidth:!0})]}),t.jsxs(b,{fullWidth:!0,sx:{mb:2},size:"small",children:[t.jsx(Z,{children:l("propertiesPanel.borderWidth")}),t.jsxs(G,{label:l("propertiesPanel.borderWidth"),value:K,onChange:o=>{const s=o.target.value;x(s),d("borderWidth",s)},children:[t.jsx(p,{value:"none",children:l("propertiesPanel.borderNone")}),t.jsx(p,{value:"thin",children:l("propertiesPanel.borderThin")}),t.jsx(p,{value:"medium",children:l("propertiesPanel.borderMedium")}),t.jsx(p,{value:"thick",children:l("propertiesPanel.borderThick")})]})]}),t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.borderColor"),variant:"outlined",type:"color",size:"small",value:U||"#000000",onChange:o=>{S(o.target.value),d("borderColor",o.target.value)},fullWidth:!0})}),e.type==="button"&&t.jsxs(D,{sx:{mt:2},children:[t.jsxs(b,{fullWidth:!0,sx:{mb:2},size:"small",children:[t.jsx(Z,{children:l("propertiesPanel.buttonAction")}),t.jsxs(G,{label:l("propertiesPanel.buttonAction"),value:e.action||"none",onChange:o=>{const s=o.target.value;d("action",s),s==="none"&&(d("jumpToCardId",null),d("src",""))},children:[t.jsx(p,{value:"none",children:l("propertiesPanel.actionNone")}),t.jsx(p,{value:"jumpToCard",children:l("propertiesPanel.actionJumpToCard")}),t.jsx(p,{value:"jumpToCardAnchor",children:l("propertiesPanel.actionJumpToCardAnchor")}),t.jsx(p,{value:"openUrl",children:l("propertiesPanel.actionOpenUrl")}),c&&t.jsx(p,{value:"script",children:l("propertiesPanel.actionScript")})]})]}),(e.action==="jumpToCard"||e.action==="jumpToCardAnchor")&&t.jsxs(b,{fullWidth:!0,sx:{mb:2},size:"small",children:[t.jsx(Z,{children:l("propertiesPanel.targetCard")}),t.jsxs(G,{label:l("propertiesPanel.targetCard"),value:e.jumpToCardId||"",onChange:o=>{d("jumpToCardId",o.target.value||null)},children:[t.jsx(p,{value:"",children:l("propertiesPanel.selectCard")}),v.cards.map(o=>t.jsx(p,{value:o.id,children:o.name},o.id))]})]}),e.action==="openUrl"&&t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.url"),variant:"outlined",size:"small",value:e.src||"",onChange:o=>{d("src",o.target.value)},placeholder:l("propertiesPanel.urlPlaceholder")})})]}),e.type==="image"&&t.jsxs(D,{sx:{mt:2},children:[t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.imageSource"),variant:"outlined",size:"small",value:q,onChange:o=>{M(o.target.value),d("src",o.target.value)},placeholder:l("propertiesPanel.imagePlaceholder")})}),t.jsxs(b,{fullWidth:!0,sx:{mb:2},size:"small",children:[t.jsx(Z,{children:l("propertiesPanel.objectFit")}),t.jsxs(G,{label:l("propertiesPanel.objectFit"),value:ie,onChange:o=>{const s=o.target.value;Y(s),d("objectFit",s)},children:[t.jsx(p,{value:"contain",children:l("propertiesPanel.objectFitContain")}),t.jsx(p,{value:"fill",children:l("propertiesPanel.objectFitFill")})]})]})]}),c&&t.jsx(b,{fullWidth:!0,sx:{mb:2},children:t.jsx(f,{label:l("propertiesPanel.scriptLabel"),variant:"outlined",multiline:!0,rows:4,value:oe,onChange:o=>{J(o.target.value),d("script",o.target.value)},placeholder:l("propertiesPanel.scriptPlaceholder"),InputProps:{style:{fontFamily:"monospace"}}})}),t.jsx(ve,{variant:"contained",color:"error",fullWidth:!0,onClick:()=>F(e.id),sx:{mt:2},children:l("propertiesPanel.deleteButton")})]}):t.jsx(D,{sx:{p:2,textAlign:"center",color:"text.secondary"},children:t.jsx("p",{children:l("propertiesPanel.selectObjectMessage")})})]})};export{Qe as PropertiesPanel,Qe as default};
